<!DOCTYPE html>
<html>
  <head>
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css" integrity="sha384-Bfad6CLCknfcloXFOyFnlgtENryhrpZCe29RTifKEixXQZ38WheV+i/6YWSzkz3V" crossorigin="anonymous">
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= csrf_meta_tags %>

  </head>

  <header>
    <div class="navbar-fixed">
      <nav>
        <div class="nav-wrapper teal">
          <% if @current_user %>
          <a href="/posts/index" class="brand-logo center">TweetApp</a>
          <% else %>
          <a href="/" class="brand-logo center">TweetApp</a>
          <% end %>
          <a href="#" data-target="slide-out" class="sidenav-trigger left">
            <i class="material-icons">menu</i>
          </a>
          <ul class="right hide-on-med-and-down">
            <% if @current_user %>
            <li>
              <a href="/posts/index">タイムライン</a>
            </li>
            <li>
              <a href="/users/index">ユーザー一覧</a>
            </li>
            <li>
              <a href="/users/<%= @current_user.id %>"><%= @current_user.name %></a>
            </li>
            <li>
              <a href="/logout" data-method="post">ログアウト</a>
            </li>
            <% else %>
            <li>
              <a href="/users/new">新規登録</a>
            </li>
            <li>
              <a href="/login_form">ログイン</a>
            </li>
            <% end %>
          </ul>
        </div>
      </nav>
    </div>
    <ul id="slide-out" class="sidenav">
      <% if @current_user %>
      <li>
        <a href="/posts/index">タイムライン</a>
      </li>
      <li>
        <a href="/users/index">ユーザー一覧</a>
      </li>
      <li>
        <a href="/users/<%= @current_user.id %>"><%= @current_user.name %></a>
      </li>
      <li>
        <a href="/logout" data-method="post">ログアウト</a>
      </li>
      <% else %>
      <li>
        <a href="/users/new">新規登録</a>
      </li>
      <li>
        <a href="/login_form">ログイン</a>
      </li>
      <% end %>
    </ul>
  </header>

  <body>
    <% if flash[:notice] %>
      <div class="card orange">
        <div class="card-content white-text center">
          <h5><%= flash[:notice] %></h5>
        </div>
      </div>
    <% end %>
    <br><br>
    <div class="container">
      <%= yield %>
    </div>
    <!--JavaScript at end of body for optimized loading-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  </body>
</html>
